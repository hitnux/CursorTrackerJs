class CursorTracker{constructor(e){this.mouse={event:!1,x:0,y:0},this.config={id:"cursor-tracker",container:".ct-container",selector:".ct-content",top:25,left:0,active:"active",breakpoint:"1024px",innerHtml:"",classes:"ct",...e},this.init()}init(){this.isDesktop()&&(this.template(),this.animation(),this.mousemove(),this.config.container.length?this.config.container?.split(" ").forEach(e=>{document.querySelectorAll(e).forEach(e=>{const t=e.querySelectorAll(this.config.container);t.length&&t.forEach(e=>{e.classList.add("child"),this.createChildContainer({target:e})}),e.classList.contains("child")||this.createContainer({target:e})})}):console.error("Cursor Tracker: Container cannot be empty"))}template(){if(!this.element){const t=document.createElement("div");t.id=this.config.id,t.style.position="fixed",t.style.pointerEvents="none",t.style.zIndex=9999,t.innerHTML=this.config.innerHtml,this.config.classes&&this.config.classes.split(" ").forEach(e=>{t.classList.add(e)}),document.body.appendChild(t),this.element=t}return this.element}isDesktop(){return window.matchMedia(`(min-width: ${this.config.breakpoint})`).matches}animation(){this.mouse.event&&(this.element.style.top=this.mouse.y+this.config.top+"px",this.element.style.left=this.mouse.x+this.config.left+"px"),window.requestAnimationFrame(this.animation.bind(this))}onTheElement({target:t,classes:i,activated:n,deactivated:s}){t.addEventListener("mouseenter",e=>{i?.split(" ").forEach(e=>{this.element.classList.toggle(e)}),n&&n(e),this.on("activated",{activatedElement:t,originalEvent:e},t)}),t.addEventListener("mouseleave",e=>{i?.split(" ").forEach(e=>{this.element.classList.toggle(e)}),s&&s(e),this.on("deactivated",{deactivatedElement:t,originalEvent:e},t)})}createContainer({target:e}){this.onTheElement({target:e,classes:this.config.active,activated:()=>{this.element.innerHTML=e.querySelector(this.config.selector).innerHTML},deactivated:()=>{this.element.innerHTML=this.config.innerHtml,this.mouse.event=!1}})}createChildContainer({target:e}){let t;this.onTheElement({target:e,activated:()=>{t=this.element.innerHTML,this.element.innerHTML=e.querySelector(".ct-content").innerHTML},deactivated:()=>{this.element.innerHTML=t}})}on(e,t,i=this.element){i.dispatchEvent(new CustomEvent(e,{detail:{mouse:this.mouse,...t}}))}mousemove(){document.addEventListener("mousemove",e=>{this.mouse={event:!0,x:e.clientX,y:e.clientY},this.on("moving",{originalEvent:e})})}}